#
# 
# @param chessboard string字符串一维数组 
# @return string字符串
#
class Solution:
    def playchess(self , chessboard ):
        length1 = len(chessboard)
        length2 = len(chessboard[0])
        dic={}
        for i in range(length1):
            print(chessboard[i])
            for j in range(length2):
                if chessboard[i][j] != '.':
                    dic[chessboard[i][j]] =[i,j]
        print(dic)
        chars=[]
        chars1 =[]
        for char in dic.keys():
            if char>= 'A' and char<='Z' :
                chars.append(char)
            elif char>= 'a' and char <= 'z' and char != 'j':
                chars1.append(char)

        for char in chars:

            if char != 'P':
                if (dic[char][0]-dic['j'][0])**2+(dic[char][1]-dic['j'][1])**2 == 1:
                    return "Happy"

            if char == 'C':
                for i in range(2):
                    if dic['C'][i]==dic['j'][i] :
                        distance = dic['C'][1-i] - dic['j'][1-i]
                        if distance < 0:
                            distance = -distance
                        for char in chars1:
                            if dic[char][i] == dic['C'][i] :
                                distance1 = dic[char][1-i]- dic['j'][1-i]
                                if distance1 < 0:
                                    distance1 = -distance1
                                if distance> distance1:
                                    return 'Sad'
                        return 'Happy'

            if char == 'P':
                for i in range(2):
                    if dic['P'][i]==dic['j'][i] :
                        distance = dic['P'][1-i] - dic['j'][1-i]
                        count = 0
                        if distance < 0:
                            distance = -distance
                        for char in chars1+chars:
                            if dic[char][i] == dic['P'][i] :
                                distance1 = dic[char][1-i]- dic['j'][1-i]
                                if distance1 < 0:
                                    distance1 = -distance1
                                if distance> distance1:
                                    count += 1
                        if count != 1:
                            return 'Sad'
                        return 'Happy'
                    
        return "Sad"

if __name__ == '__main__':
    case1 = ["......", "..B...", "P.C.j.", "......", "..b...","...J.." ]
    case2 = ["...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", ".....................p.........................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "................................................................................j..............", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...................................J...........................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "....................................B..........................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "...............................................................................................", "..............................................................................................."] 
    a = Solution()
    print(a.playchess(case2))